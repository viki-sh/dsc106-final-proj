<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Vital Sign Viewer</title>
  <link rel="stylesheet" href="/dsc106-final-proj/styles.css" />
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
  <div id="header"></div>
  <div id="legend"></div>
  <div id="chart"><svg></svg></div>
  <div id="nav"></div>
  <div id="controls"></div>

  <div id="writeup" style="max-width: 800px; margin: 40px auto; text-align: left; font-family: sans-serif; line-height: 1.6;">
    <h2>Project Write-up</h2>

    <p><strong>1. What have you done so far?</strong><br>
    We began by researching vital signs that commonly fluctuate in relation to heart rate. From this, we selected 14 relevant clinical parameters from the VitalDB dataset, including heart rate, various blood pressures, oxygen saturation, CO2 levels, and others. Using the VitalDB API, we downloaded metadata for the first 500 surgeries (as processing all 6000 cases was computationally too heavy) and filtered for track IDs matching our selected parameters. For each case, we downloaded time-series data, aggregated it into 15-minute bins, and computed Pearson correlations between heart rate and the other vitals. This allowed us to identify the top 20 cases with the strongest correlations. After selecting these cases, we re-downloaded their full second-by-second data for all available parameters. We organized this cleaned data into a structured JSON file, grouping values by parameter and time. This `vital_data.json` file is loaded into the webpage to power the interactive visualization. We also implemented a filterable legend, tooltips, a playback slider, and a vertical guide line to help users explore how vital signs relate to each other over the course of a surgery.</p>


    <p><strong>2. What will be the most challenging part of your project to design and why?</strong><br>
    The most challenging part will be designing and integrating visual elements to enhance the narrative experience. We aim to build an interactive storytelling interface, such as displaying vitals on an EKG monitor and overlaying a cartoon patient graphic on the operating table. Creating dynamic elements like hovers on body parts, interactive tooltips tied to specific events, and transitions between surgery and post-op visuals will require custom graphics and precise data mapping. Another challenge is scaling the analysis across more than 6000 cases while preserving clarity. Handling large volumes of time-series data efficiently, especially when incorporating other variables like drugs or treatments, will require performance optimization. It will also be difficult to extract and visualize correlations between vital signs and drug administration. Designing these features while maintaining usability and clarity will be a complex task. However, these challenges are also the most exciting part of the project as they bring the data to life in meaningful ways.</p>
  </div>

  <script src="/dsc106-final-proj/script.js"></script>
</body>
</html>
